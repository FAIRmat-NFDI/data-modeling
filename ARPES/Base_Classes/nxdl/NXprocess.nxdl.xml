<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xslt"?>
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/2001/XMLSchema-instance" category="base" extends="NXobject" type="group" doc="Draft extension of NXprocess to include fields to describe the processing of photoemission data.">
	<field name="name" type="NX_CHAR"/>
	<field name="category" type="NX_CHAR"/>
	<symbols doc="The symbols used in the schema to specify e.g. dimensions of arrays">
		<sym name="doc" doc="The symbols used in the schema to specify e.g. dimensions of arrays"/>
		<sym name="nkx" doc="Number of points in the kx axis"/>
		<sym name="nky" doc="Number of points in the ky axis"/>
		<sym name="ne" doc="Number of points in the energy axis"/>
	</symbols>
	<group type="NXobject">
		<field name="program_name" type="NX_CHAR" doc="Name of the processing program or script "/>
		<field name="program_version" type="NX_CHAR" doc="Version of the program or script"/>
		<field name="program_codebase" type="NX_CHAR" doc="Set of libraries/tools used in the program/script"/>
		<field name="program_sequence" type="NX_CHAR" doc="Sequence of transformations applied to the data, as some are non-commutative"/>
		<field name="calculated_kx" type="NX_FLOAT" units="NX_WAVENUMBER" doc="calibrated kx momentum axis">
			<dimensions rank="1">
				<dim index="1" value="nkx"/>
			</dimensions>
		</field>
		<field name="calculated_ky" type="NX_FLOAT" units="NX_WAVENUMBER" doc="calibrated ky momentum axis">
			<dimensions rank="1">
				<dim index="1" value="nky"/>
			</dimensions>
		</field>
		<field name="calculated_energy" type="NX_FLOAT" units="NX_ENERGY" doc="Calibrated energy axis">
			<dimensions rank="1">
				<dim index="1" value="ne"/>
			</dimensions>
		</field>
		<field name="calculated_delay" type="NX_FLOAT" units="NX_TIME" doc="Calibrated Delay stage position">
			<dimensions rank="1">
				<dim index="1" value="ntpp"/>
			</dimensions>
		</field>
		<field name="calculated_x_to_kx" type="NX_FLOAT" units="NX_WAVENUMBER" doc="Pixel x axis to kx momentum calibration">
			<dimensions rank="2">
				<dim index="1" value="nkx"/>
				<dim index="1" value="nkx"/>
			</dimensions>
		</field>
		<field name="calculated_x_to_ky" type="NX_FLOAT" units="NX_WAVENUMBER" doc="Pixel y axis to ky momentum calibration">
			<dimensions rank="2">
				<dim index="1" value="nky"/>
				<dim index="1" value="nky"/>
			</dimensions>
		</field>
		<field name="calculated_tof_to_energy" type="NX_FLOAT" units="NX_ENERGY" doc="Time_of_flight to energy calibration">
			<dimensions rank="2">
				<dim index="1" value="ne"/>
				<dim index="1" value="ne"/>
			</dimensions>
		</field>
		<field name="calculated_stage_to_delay" type="NX_FLOAT" units="NX_TIME" doc="Delay stage calibration">
			<dimensions rank="2">
				<dim index="1" value="ntpp"/>
				<dim index="1" value="ntpp"/>
			</dimensions>
		</field>
		<group name="REGISTRATION" type="NXregistration" doc="Class to describe the operations of image registration"/>
		<group name="DISTORTION" type="NXdistortion" doc="class to describe the operations of image distrortion correction"/>
		<group name="CALIBRATION" type="NXcalibration" doc="class to describe the operations of calibration"/>
	</group>
</definition>
