name: NXsource
category: base
doc: "Draft extension of NXsource to include lasers and FELs."
(NXobject):
  name(@short_name)(NX_CHAR):
    doc: "Name of the source"
  type(NX_CHAR):
    doc: "Type of radiation source"
  probe(NX_CHAR):
    doc: "Type of radiation used as probe"
  photon_energy(NX_FLOAT):
    unit: NX_ENERGY
    doc: "The center photon energy of the source, before it is monochromatized or
      converted"
  center_wavelength(NX_FLOAT):
    unit: NX_WAVELENGTH
    doc: "The center wavelength of the source, before it is monochromatized or converted"
  pulse_energy(NX_FLOAT):
    unit: NX_ENERGY
    doc: "For pulsed sources, the energy of a single pulse"
  peak_power(NX_FLOAT):
    unit: NX_POWER
    doc: "For pulsed sources, the pulse energy divided by the pulse duration"
  power(NX_FLOAT):
    unit: NX_POWER
    doc: "Average source power"
  emittance_x(NX_FLOAT):
    unit: NX_EMITTANCE
    doc: "Horizontal emittance"
  emittance_y(NX_FLOAT):
    unit: NX_EMITTANCE
    doc: "Vertical emittance"
  sigma_x(NX_FLOAT):
    unit: NX_LENGTH
    doc: "horizontal beam size"
  sigma_y(NX_FLOAT):
    unit: NX_LENGTH
    doc: "vertical beam size"
  flux(NX_FLOAT):
    unit: NX_FLUX
    doc: "Photon flux of the source"
  energy(NX_FLOAT):
    unit: NX_ENERGY
    doc: "Particle beam energy/excitation voltage"
  current(NX_FLOAT):
    unit: NX_CURRENT
    doc: "Storage ring current/X-ray tube current"
  frequency(NX_FLOAT):
    unit: NX_FREQUENCY
    doc: "Pulsed source frequency (repetition rate)"
  pulse_width(NX_FLOAT):
    unit: NX_TIME
    doc: "Duration of the source pulses"
  distribution(NXdata):
    doc: "Energy/wavelength spectrum of the source"
    dimensions:
      dim: [[1,nx],[1,nx]]
      rank: 2
  number_of_bunches(NX_INT):
    doc: "Number of bunches in the storage ring"
  bunch_length(NX_FLOAT):
    unit: NX_TIME
    doc: "Temporal length of the bunch"
  bunch_distance(NX_FLOAT):
    unit: NX_TIME
    doc: "Time between bunches"
  mode(NX_CHAR):
    doc: "Source operating mode (single or multi bunch)"
  top_up(NX_BOOLEAN):
    doc: "Is the storage ring in top up?"
  bunch_pattern(NXdata):
    doc: "Description of the bunch pattern"
    dimensions:
      dim: [[1,nx],[1,nx]]
      rank: 2
  rms_jitter(NX_FLOAT):
    unit: NX_TIME
    doc: "For pump-probe experiments, the synchronization error between pump and
      probe."
  bunch_number_start(NX_INT):
    doc: "Some facilities tag each bunch. First bunch of the  measurement"
  bunch_number_end(NX_INT):
    doc: "Last bunch of the  measurement"
