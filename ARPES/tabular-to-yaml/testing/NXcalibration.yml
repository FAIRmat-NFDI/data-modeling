name: NXcalibration
category: base
doc: "Draft subclass of NXprocess to describe post-processing calibrations."
symbols:
  doc: The symbols used in the schema to specify e.g. dimensions of arrays
  ncoeff: Number of coefficients of the calibration function
  nfeat: Number of features used to fit the calibration function
  ncal: Number of points of the calibrated and uncalibrated axes
(NXobject):
  applied(NX_BOOL):
    doc: "Has the calibration been applied?"
  coefficients(NX_FLOAT):
    doc: "Array of coefficients of the calibration function for non linear calibration"
    unit: NX_ANY
    dimensions:
      dim: [[1,ncoeff]]
      rank: 1
  features(NX_FLOAT):
    doc: "Array of position of features along the axis to be calibrated"
    unit: NX_ANY
    dimensions:
      dim: [[1,nfeat]]
      rank: 1
  destinations(NX_FLOAT):
    doc: "Array of destinations in the calibrated axis"
    unit: NX_ANY
    dimensions:
      dim: [[1,nfeat]]
      rank: 1
  files(NX_CHAR):
    doc: "Files used for the calibration"
    dimensions:
      dim: [[1,nfeat]]
      rank: 1
  scaling(NX_FLOAT):
    doc: "Scaling parameter for linear calibration"
    unit: NX_ANY
  offset(NX_FLOAT):
    doc: "Offset parameter for linear calibration"
    unit: NX_ANY
  calibrated_axis(NX_FLOAT):
    doc: "A vector representing the axis after calibration, matching the data length"
    unit: NX_ANY
    dimensions:
      dim: [[1,ncal]]
      rank: 1
  conversion_table(NX_FLOAT):
    doc: "2 vectors, representing how the raw points get mapped on the calibrated
      axis."
    unit: NX_ANY
    dimensions:
      dim: [[1,ncal],[1,ncal]]
      rank: 2
