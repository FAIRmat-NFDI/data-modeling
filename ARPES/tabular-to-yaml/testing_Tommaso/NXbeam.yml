category: base
symbols:
  doc: The symbols used in the schema to specify e.g. dimensions of arrays
  nx: Number of pixels of the chirp spectrum
doc: "Draft extension of NXbeam to include fields to describe ultra-short pulsed
  sources and details relevant for photoemission."
(NXbeam):
  pulse_energy(NX_FLOAT):
    doc: "Energy of a single pulse at the diagnostic point"
    unit: NX_ENERGY
  average_power(NX_FLOAT):
    doc: "Average power at the diagnostic point"
    unit: NX_POWER
  incident_energy(NX_FLOAT):
    doc: "In the case of a monchromatic beam this is the scalar energy. Several other
      use cases are permitted, depending on the presence of other incident_energy_X
      fields. In the case of a polychromatic beam this is an array of length m of
      energies, with the relative weights in incident_energy_weights. In the case
      of a monochromatic beam that varies shot-to-shot, this is an array of energies,
      one for each recorded shot. Here, incident_energy_weights and incident_energy_spread
      are not set. In the case of a polychromatic beam that varies shot-to-shot, this
      is an array of length m with the relative weights in incident_energy_weights
      as a 2D array. In the case of a polychromatic beam that varies shot-to-shot
      and where the channels also vary, this is a 2D array of dimensions nP by m (slow
      to fast) with the relative weights in incident_energy_weights as a 2D array.
      Note, variants are a good way to represent several of these use cases in a single
      dataset, e.g. if a calibrated, single-value energy value is available along
      with the original spectrum from which it was calibrated."
    unit: NX_ENERGY
  incident_energy_spread(NX_NUMBER):
    doc: "The wavelength spread FWHM for the corresponding energy(ies) in incident_energy.
      In the case of shot-to-shot variation in the energy spread, this is a 2D array
      of dimension nP by m (slow to fast) of the spreads of the corresponding wavelength
      in incident_wavelength."
    unit: NX_ENERGY
  incident_energy_weights(NX_NUMBER):
    doc: "In the case of a polychromatic beam this is an array of length m of the
      relative weights of the corresponding energies in incident_energy. In the case
      of a polychromatic beam that varies shot-to-shot, this is a 2D array of dimensions
      np by m (slow to fast) of the relative weights of the corresponding energies
      in incident_energy."
    unit: NX_ENERGY
  incident_wavelength(NX_NUMBER):
    doc: "In the case of a monchromatic beam this is the scalar wavelength. Several
      other use cases are permitted, depending on the presence of other incident_wavelength_X
      fields. In the case of a polychromatic beam this is an array of length m of
      wavelengths, with the relative weights in incident_wavelength_weights. In the
      case of a monochromatic beam that varies shot-to-shot, this is an array of wavelengths,
      one for each recorded shot. Here, incident_wavelength_weights and incident_wavelength_spread
      are not set. In the case of a polychromatic beam that varies shot-to-shot, this
      is an array of length m with the relative weights in incident_wavelength_weights
      as a 2D array. In the case of a polychromatic beam that varies shot-to-shot
      and where the channels also vary, this is a 2D array of dimensions nP by m (slow
      to fast) with the relative weights in incident_wavelength_weights as a 2D array.
      Note, variants are a good way to represent several of these use cases in a single
      dataset, e.g. if a calibrated, single-value wavelength value is available along
      with the original spectrum from which it was calibrated."
    unit: NX_WAVELENGTH
  incident_wavelenght_spread(NX_NUMBER):
    doc: "The wavelength spread FWHM for the corresponding wavelength(s) in incident_wavelength.
      In the case of shot-to-shot variation in the wavelength spread, this is a 2D
      array of dimension nP by m (slow to fast) of the spreads of the corresponding
      wavelenght in incident_wavelenght."
    unit: NX_WAVELENGTH
  incident_wavelength_weights(NX_NUMBER):
    doc: "In the case of a polychromatic beam this is an array of length m of the
      relative weights of the corresponding wavelengths in incident_wavelength. In
      the case of a polychromatic beam that varies shot-to-shot, this is a 2D array
      of dimensions np by m (slow to fast) of the relative weights of the corresponding
      wavelengths in incident_wavelength."
    unit: NX_WAVELENGTH
  incident_polarization(NX_FLOAT):
    doc: "Incident polarization as a Stokes vector"
    unit: NX_ANY
    dimensions:
      dim: [[1,4]]
      rank: 1
  incident_polarization(NX_CHAR):
    \@units(NX_CHAR):
      doc: "The units for this observable are not included in the NIAC list. Responsibility
        on correct formatting and parsing is handed to the user by using ''NX_ANY''.
        Correct parsing can still be implemented by using this attribute. Fill with:
        The unit unidata symbol if the unit has one (Example: ''T'' for the unit of
        magnetic flux density tesla). The unit unidata name if the unit has a name
        (Example: ''farad'' for capacitance). A string describing the units according
        to unidata unit operation notation, if the unit is a complex combination of
        named units and does not have a name. Example: for lightsource brilliance
        (SI) ''1/(s.mm2.mrad2)''. Here: SI units are ''V2/m2''."
  extent(NX_FLOAT):
    doc: "Beam size vector describing the beam waist FWHM in two perpendicular directions."
    unit: NX_LENGTH
    dimensions:
      dim: [[1,2]]
      rank: 1
  fluence(NX_FLOAT):
    doc: "Incident fluence at the diagnostic point"
    unit: NX_ANY
  fluence(NX_CHAR):
    \@units(NX_CHAR):
      doc: "Here: SI units are ''J/m2'', customary ''mJ/cm2''."
  pulse_duration(NX_FLOAT):
    doc: "FWHM duration of the pulses at the diagnostic point"
    unit: NX_TIME
  chirp_spectrum(NXdata):
    doc: "Spectrum of pulse frequency vs time."
    dimensions:
      dim: [[1,nx],[1,nx]]
      rank: 2
  chirp_type(NX_CHAR):
    doc: "The type of chirp implemented"
  chirp_GDD(NX_FLOAT):
    doc: "Group delay dispersion of the pulse for linear chirp"
    unit: NX_TIME
