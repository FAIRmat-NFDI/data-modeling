#kuehbacm at hu-berlin.de, 12/2021
name: NXapm_ion
category: contributed
doc: Proposal for a contributed class which specifies an ion type to be used to label mass-to-charge data from time-resolved mass spectrometry
symbols:
  doc: The symbols used in the schema to specify e.g. dimensions of arrays
  Nranges: Number of range intervals mapped on this ion type
  Nivecmax: Maximum number of allowed atoms per (molecular) ion (fragment)
(NXobject):
  exists: required
  doc: Atomic architecture of a (molecular) ion (fragment)
  ion_type(NX_UINT):
    exists: required
    doc: Identifier, e.g. ion type or ion species id
    unit: NX_UNITLESS
  isotope_vector(NX_UINT):
    exists: required
    doc: A vector of ordered isotope hash values. The values have to be arranged in the array in decreasing order. #(always filling up to max_number_if_atoms_per_molecular_ion.
    unit: NX_UNITLESS
    dimensions:
      rank: 1
      dim: [[1, Nivecmax]]
  charge_state(NX_FLOAT):
    exists: required
    doc: Signed charge of the ion. Positive values in the case of atom probe microscopy. In the case the charge state is documented implicitly only, the value should be set to zero. This is for example the case when using classical range file formats (RNG, RRNG) because these document the charge state in the eventually halfed mass-to-charge.
    unit: NX_CHARGE
  name(NX_CHAR):
    exists: optional
    doc: Human-readable, i.e. ASCII character array, ideally using LaTeX notation to specify the ion and charge state. Examples 12C+, Al are H3O+. Although human-readable and intuitive this parsing of such ions becomes impractical for more complicated cases. Therefore, the isotope_vector is the preferred machine-readable format.
  mass_to_charge_range(NX_FLOAT):
    exists: optional
    doc: Lower (mqmin) and upper (mqmax) bounds of a mass-to-charge interval [mqmin, mqmax] (inclusive or exclusive boundaries) where assigned signal for the respective ion is identified.
    unit: NX_ATOMIC_MASS_UNIT #does not exist
    dimensions: #do I need to specify
      rank: 2
      dim: [[1, 2], [2, Nranges]]
